SELECT * FROM room1
SELECT * FROM room2
SELECT * FROM room2000000006
SELECT * FROM all_users
SELECT * FROM rooms
SELECT * FROM community_rooms

INSERT INTO community_rooms (room_name, room_id) VALUES ('Мафия-Бот (Комната №1)', 2000000001);
INSERT INTO community_rooms (room_name, room_id) VALUES ('Мафия-Бот (Комната №2)', 2000000003);
INSERT INTO community_rooms (room_name, room_id) VALUES ('Мафия-Бот (Комната №3)', 2000000004);
INSERT INTO community_rooms (room_name, room_id) VALUES ('Мафия-Бот (Комната №4)', 2000000005);
INSERT INTO community_rooms (room_name, room_id) VALUES ('Мафия-Бот (Комната №5)', 2000000006);

UPDATE community_rooms SET available = 0;
UPDATE community_rooms SET available = 1 WHERE room_id = 2000000006;
DELETE FROM rooms;
DROP TABLE room2000000006; 
UPDATE all_users SET room = NULL;

DELETE FROM room2 WHERE id = 11;

CREATE TABLE room2 ( 
                    id serial PRIMARY KEY,
                    username varchar(120) NOT NULL,
                    userid integer NOT NULL,
                    user_role varchar(50),
                    is_good smallint DEFAULT 1,
                    is_alive smallint DEFAULT 1,
                    mafia_choice smallint DEFAULT 0,
                    hoe_choice smallint DEFAULT 0,
                    doctor_choice smallint DEFAULT 0,
                    bodyguard_choice smallint DEFAULT 0,
                    user_state smallint,
                    poll_vote integer
                )

CREATE TABLE rooms ( 
                    id serial PRIMARY KEY,
                    room integer NOT NULL,
                    game_day smallint DEFAULT 1,
                    last_role varchar(20),
					action_deadline varchar(20),
					poll_deadline varchar(20),
					game_expires varchar(20),
					actions_history varchar
                )
				
CREATE TABLE community_rooms ( 
                    id serial PRIMARY KEY,
                    room_name varchar(30),
					room_id integer,
                    available smallint DEFAULT 1                    
                )
				
DROP TABLE community_rooms;				

SELECT COUNT(*) FROM room2;

SELECT NOW()::TIME;

INSERT INTO rooms (room, last_role_action, last_poll_action) VALUES (5, 7, 9);

UPDATE all_users SET room = 2;
UPDATE all_users SET room = NULL WHERE userid = 161528508;
UPDATE all_users SET room = 2 WHERE userid = 161528508;

UPDATE all_users SET room = NULL;
DROP TABLE room2;
DROP TABLE rooms;

UPDATE room2 SET user_state = 0;
UPDATE room2 SET user_state = 8 WHERE userid = 161528508;

UPDATE room2 SET is_alive = 0 WHERE user_role = 'Комиссар';

UPDATE room1 SET poll_vote = -1 WHERE userid = 1;

UPDATE room2 SET poll_vote = NULL;
UPDATE room2 SET poll_vote = -1 WHERE user_state = 88;
UPDATE room2 SET user_state = 0 WHERE poll_vote = -1;

UPDATE room1 SET (mafia_choice, doctor_choice) = (0, 0);

UPDATE room2 SET bodyguard_choice = 1 WHERE user_role = 'Суицидник';
UPDATE room2 SET doctor_choice = 1 WHERE user_role = 'Суицидник';
UPDATE room2 SET hoe_choice = 1 WHERE user_role = 'Мститель';
UPDATE room2 SET mafia_choice = 1 WHERE user_role = 'Проститутка';

UPDATE room1 SET userid = 161528508;

UPDATE room2 SET is_alive = 1;

UPDATE room1 SET is_good = 0 WHERE user_role = 'Мафия';

UPDATE room1 SET userid = 161528508 WHERE userid = 3;
UPDATE room1 SET userid = 3 WHERE userid = 71881597;

UPDATE room1 SET user_state = 2 WHERE user_role = 'Мафия';
UPDATE room1 SET user_state = 5 WHERE userid = 1;

UPDATE room1 SET user_role = 'Суицидник' WHERE userid = 3;

UPDATE room1 SET userid = 2 WHERE user_role = 'Суицидник';
UPDATE room1 SET userid = 2 WHERE user_role = 'Доктор';
UPDATE room1 SET userid = 3 WHERE user_role = 'Комиссар';

INSERT INTO all_users (username, userid, room) VALUES ('Lal', 1, 2);

INSERT INTO room2 (username, userid, user_state) VALUES ('Lal', 1, 0);
INSERT INTO room2 (username, userid, user_state) VALUES ('Kek', 4, 0);
INSERT INTO room2 (username, userid, user_state) VALUES ('Zaaz', 3, 0);
INSERT INTO room2 (username, userid, user_state) VALUES ('z', 82, 0);
INSERT INTO room2 (username, userid, user_state) VALUES ('x', 5, 0);
INSERT INTO room2 (username, userid, user_state) VALUES ('c', 6, 0);
INSERT INTO room2 (username, userid, user_state) VALUES ('v', 7, 0);
INSERT INTO room2 (username, userid, user_state) VALUES ('b', 8, 0);
INSERT INTO room2 (username, userid, user_state) VALUES ('n', 9, 0);

UPDATE all_users SET room = 1 WHERE userid = 161528508;

UPDATE room1 SET is_alive = 1;
UPDATE room1 SET is_alive = 0 WHERE user_role = 'Комиссар';

UPDATE room2 SET userid = 4 WHERE user_role = 'Комиссар';
UPDATE room2 SET userid = 4 WHERE user_role = 'Мафия';
UPDATE room2 SET userid = 4 WHERE user_role = 'Доктор';
UPDATE room2 SET userid = 161528508 WHERE user_role = 'Телохранитель';
UPDATE room2 SET userid = 82 WHERE user_role = 'Дон';
UPDATE room2 SET userid = 1 WHERE user_role = 'Проститутка';
UPDATE room2 SET userid = 4 WHERE user_role = 'Суицидник';
UPDATE room2 SET userid = 4 WHERE user_role = 'Мститель';
UPDATE room2 SET userid = 1 WHERE user_role = 'Сержант';

UPDATE room1 SET user_role = 'Комиссар' WHERE userid = 2;

UPDATE room1 SET mafia_choice = 1 WHERE userid = 2;
UPDATE room2 SET doctor_choice = 1 WHERE userid = 2;

